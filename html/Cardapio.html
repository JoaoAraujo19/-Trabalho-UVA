<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/icones/logoGsemCirculo.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/Cardapio.css">
    <script defer src="../index.js"></script>
    <title>Empresa</title>
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="../index.html">inicio</a></li>
                <li><a href="Cardapio.html">Cardapio</a></li>
                <li><a href="Novidades.html">Novidades</a></li>
                <li><a href="FaleConosco.html">Fale Conosco</a></li>
                <li><section id="carrinho-section">
                    <img src="../img/icones/icons8-carrinho-de-compras-60.png" alt="">
                    <div id="carrinho"></div>
                    <button onclick="enviarCarrinho()">Finalizar Pedido</button>
                </section>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="carrossel">
            <div class="list">
                <div class="item">
                    <img src="../img/slide/melhordorio.png" alt="">
                </div>
                <div class="item">
                    <img src="../img/slide/saborbanner.png" alt="">
                </div>
                <div class="item">
                    <img src="../img/slide/ComboAlgumaCoisa.png" alt="">
                </div>
                
            </div>
            <div class="buttons">
                <button id="prev">&lt</button>
                <button id="next">&gt</button>
            </div>
            <ul class="dots">
                <li class="active"></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <h1>Hambúrguer</h1>
        <div class="card-container">
            <div class="card">

                <a href="../html/hamburguer/naoseiburguer.html">
                    <img src="../img/itens/NaoSei400x400.png"
                        alt="NaoSeiBurguer">
                </a>
                <h3>Não Sei</h3>
                <button onclick="adicionarAoCarrinho('Não sei Burguer')">Adicionar ao Carrinho</button>
            </div>

            <div class="card">

                <a href="../html/hamburguer/supermegaburguer.html">
                    <img src="../img/itens/SuperMegaBlaster400x400.png"
                        alt="SuperMegaBlasterBurguer">
                </a>
                <h3>Supermega Blaster</h3>
                <button onclick="adicionarAoCarrinho('Super Mega Blaster')">Adicionar ao Carrinho</button>
            </div>

            <div class="card">

                <a href="../html/hamburguer/algumacoisaburguer.html">
                    <img src="../img/itens/AlgumaCoisa400x400.png"
                        alt="AlgumaCoisaBurguer">
                </a>
                <h3>Alguma Coisa</h3>
                <button onclick="adicionarAoCarrinho('Alguma Coisa Burguer')">Adicionar ao Carrinho</button>
            </div>
        </div><!--FIM-Container-->
        <h1 class="Acompanhamentos">Acompanhamentos</h1>
        <div class="acompanhamentos-section">
            <div class="card2">

                <a href="../html/acompanhamento/nugget.html">
                    <img src="../img/itens/caixanuggets.png"
                        alt="#">
                </a>
                <h3>Nuggets de Frango</h3>
                <button onclick="adicionarAoCarrinho('Nugget')">Adicionar ao Carrinho</button>
            </div>
            <div class="card2">

                <a href="../html/acompanhamento/batatafrita.html">
                    <img src="../img/itens/caixabatata.png"
                        alt="#">
                </a>
                <h3>Batata Frita</h3>
                <button onclick="adicionarAoCarrinho('Batata Frita')">Adicionar ao Carrinho</button>
            </div>
            <div class="card2">

                <a href="../html/acompanhamento/aneldecebola.html">
                    <img src="../img/itens/caixacebola.png"
                         alt="#">
                </a>
                <h3>Anél de Cebola</h3>
                <button onclick="adicionarAoCarrinho('Anéis de cebola')">Adicionar ao Carrinho</button>
            </div>
          </div><!--FIm-acompanhamentos-->
          <h1 class="bebidas">Bebidas</h1>
          <div class="card-container">
            <div class="card">

                <a href="#">
                    <img src="https://www.guaranaantarctica.com.br/sites/g/files/wnfebl12341/files/styles/webp/public/paragraphs/product_size/2021-05/200.png.webp?itok=a4h1jdyt"
                        alt="guarana antartica">
                </a>
                <h3>Guaraná Antartica</h3>
                <button onclick="adicionarAoCarrinho('Guaraná')">Adicionar ao Carrinho</button>
            </div>

            <div class="card">

                <a href="#">
                    <img src="https://www.jauserve.com.br/dw/image/v2/BFJL_PRD/on/demandware.static/-/Sites-jauserve-master/default/dw699632d5/78908901.png?sw=360&sfrm=png&sm=fit&q=80"
                        alt="Coca Cola">
                </a>
                <h3>Coca Cola</h3>
                <button onclick="adicionarAoCarrinho('Coca Cola')">Adicionar ao Carrinho</button>
            </div>

            <div class="card">

                <a href="#">
                    <img src="https://superprix.vteximg.com.br/arquivos/ids/174662/Refresco-Guaravita-Tradicional-290ml.png?v=636216333713330000"
                        alt="guaravita">
                </a>
                <h3>Guaravita</h3>
                <button onclick="adicionarAoCarrinho('Guaravita')">Adicionar ao Carrinho</button>
            </div>
        </div><!--FIM-Bebidas-->
            
            
    </main>
    <footer>
        <div class="container">
            <ul>
                <h2>Chapa Quente</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit1</p>
                <div class="redes-sociais">
                    <img src="#" alt="">
                    <img src="#" alt="">
                    <img src="#" alt="">
                    <img src="#" alt="">
                </div>
            </ul>
            <ul>
                <h2>Link</h3>
                <li><a href="../index.html">Home</a></li>
                <li><a href="#">Preços</a></li>
                <li><a href="sobre.html">Sobre</a></li>
              
            </ul>
            <ul>
                <h2>Suporte</h3>
                <li><a href="#">Contato</a></li>
                <li><a href="#">Fundadores</a></li>
                <li><a href="#">Como Funciona</a></li>
            </ul>
            <ul>
                <h2>Nos Contacte</h3>
                <li><p>+55 4002-8922</p></li>
                <li><p>empresa@gmail.com</p></li>
                <li><p>BRASIL</p></li>
            </ul>
        </div>
    </footer>
</body>
<script>
    const precos = {
    "Não sei Burguer": 18.00,
    "Super Mega Blaster": 22.00,
    "Alguma Coisa Burguer": 25.00,
    "Nugget": 12.00,
    "Batata Frita": 8.00,
    "Anéis de Cebola": 10.00,
    "Guaraná": 7.00,
    "Coca Cola": 7.00,
    "Guaravita": 3.00,
};

function mostrarTotal() {
    const total = carrinho.reduce((soma, item) => {
        return soma + (precos[item.nome] || 0) * item.quantidade;
    }, 0);

    const container = document.getElementById("carrinho");
    const totalDiv = document.createElement("div");
    totalDiv.innerHTML = `<strong>Total: R$ ${total.toFixed(2)}</strong>`;
    container.appendChild(totalDiv);
}


    let carrinho = [];

function adicionarAoCarrinho(nome) {
    const existente = carrinho.find(item => item.nome === nome);

    if (existente) {
        existente.quantidade++;
    } else {
        carrinho.push({ nome, quantidade: 1 });
    }

    atualizarCarrinho();
}

function atualizarCarrinho() {
    const container = document.getElementById("carrinho");
    container.innerHTML = "";

    carrinho.forEach(item => {
        const linha = document.createElement("div");
        linha.innerHTML = `
            ${item.nome} x ${item.quantidade}
            <button onclick="removerDoCarrinho('${item.nome}')">Remover</button>
        `;
        container.appendChild(linha);
    });

    mostrarTotal();
}

function removerDoCarrinho(nome) {
    carrinho = carrinho.filter(item => item.nome !== nome);
    atualizarCarrinho();
}

function enviarCarrinho() {
    fetch('../php/salvar_carrinho.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(carrinho)
    })
    .then(response => response.text())
    .then(data => {
        alert("Pedido enviado!");
        console.log(data); // pode mostrar msg do PHP
        carrinho = [];
        atualizarCarrinho();
    })
    .catch(error => console.error('Erro:', error));
}


</script>
</html>